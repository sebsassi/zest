macro(create_test TESTNAME)
    add_executable(${TESTNAME}.test ${TESTNAME}.cpp)
    target_include_directories(${TESTNAME}.test PRIVATE ${PROJECT_SOURCE_DIR}/include)
    target_link_libraries(${TESTNAME}.test zest lapack blas)
    add_test(NAME ${TESTNAME} COMMAND ${TESTNAME}.test)
endmacro()

create_test(test_affine_legendre)
create_test(test_gauss_legendre)
create_test(test_glq_transformer)
create_test(test_lsq_transformer)
create_test(test_plm_recursion)
create_test(test_rotate)
create_test(test_zernike)
create_test(test_uniform_grid_evaluator)